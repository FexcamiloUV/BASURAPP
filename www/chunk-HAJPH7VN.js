import{a as X}from"./chunk-TFIDTINB.js";import{a as W}from"./chunk-7ZITIIRD.js";import"./chunk-J7FRDWCT.js";import{$a as A,A as t,Aa as F,B as n,Ba as T,C as s,Da as N,G as O,H as p,I as f,S as o,Sa as j,T as m,Wa as B,Ya as q,Za as G,_ as v,ab as L,bb as R,ca as k,fa as V,gb as U,h as _,ib as $,j as M,k as P,kb as H,nb as K,ob as Y,pa as u,pb as J,q as c,qa as y,ra as S,rb as Q,sa as E,t as w,ta as h,va as I,w as b,wa as D,xa as z,z as d}from"./chunk-XJPBX2BL.js";import"./chunk-42P5IUVT.js";import"./chunk-XDJGQ7GY.js";import"./chunk-XMO6NZPM.js";import"./chunk-J7VKH6DZ.js";import"./chunk-6F5K652D.js";import"./chunk-SDMJJ4FY.js";import"./chunk-GYLY2RJE.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-4YRHGV2P.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import{g as x}from"./chunk-2R6CW7ES.js";var Z=()=>[.25,.5,.6];function tt(i,a){if(i&1){let e=O();t(0,"ion-item",14),p("click",function(){let r=M(e).$implicit,l=f();return P(l.verVehiculo(r.id))}),t(1,"ion-text",15),o(2),n(),t(3,"ion-button",16),s(4,"ion-icon",17),n()()}if(i&2){let e=a.$implicit;c(2),m(e.marca)}}function nt(i,a){if(i&1&&(t(0,"ion-select-option",31),o(1),n()),i&2){let e=a.$implicit;d("value",e),c(),m(e)}}function et(i,a){if(i&1){let e=O();t(0,"div",18)(1,"div",19),s(2,"div",20),t(3,"h2"),o(4,"Agregar Veh\xEDculos"),n()(),t(5,"form",21)(6,"ion-item"),s(7,"ion-input",22),n(),t(8,"ion-item")(9,"ion-select",23)(10,"ion-select-option",24),o(11,"Mazda"),n(),t(12,"ion-select-option",25),o(13,"Kewort"),n(),t(14,"ion-select-option",26),o(15,"Mercedez-Benz"),n()()(),t(16,"ion-item")(17,"ion-select",27),b(18,nt,2,2,"ion-select-option",28),n()(),t(19,"div",29)(20,"ion-button",30),p("click",function(){M(e);let r=f();return P(r.registrarVehiculo())}),o(21," Registrar Veh\xEDculo "),n()()()()}if(i&2){let e=f();c(5),d("formGroup",e.vehiculoForm),c(13),d("ngForOf",e.anos)}}function ot(i,a){if(i&1&&(t(0,"div",18)(1,"div",19)(2,"h2"),o(3,"Veh\xEDculo"),n()(),t(4,"div",32)(5,"ion-item")(6,"ion-label"),o(7,"Marca:"),n(),t(8,"ion-text"),o(9),n()(),t(10,"ion-item")(11,"ion-label"),o(12,"Placa:"),n(),t(13,"ion-text"),o(14),n()(),t(15,"ion-item")(16,"ion-label"),o(17,"Modelo:"),n(),t(18,"ion-text"),o(19),n()()()()),i&2){let e=f();c(9),m(e.vehiculoData==null?null:e.vehiculoData.marca),c(5),m(e.vehiculoData==null?null:e.vehiculoData.placa),c(5),m(e.vehiculoData==null?null:e.vehiculoData.modelo)}}var ht=(()=>{let a=class a{constructor(){this.vehiculo=[],this.modalVehiculo=!1,this.anos=["2019","2020","2021"],this.perfilId="c14fb089-0812-4ba8-8a35-32ba08e35ce6",this.vehiculoModal=!1,this.loadingController=_(K),this.alerts=_(X),this.nav=_(N),this.vehiculoData=null,this.CargaDatos=_(W)}ngOnInit(){return x(this,null,function*(){this.vehiculoForm=new E({placa:new h("",[u.required]),marca:new h("",[u.required]),modelo:new h("",[u.required]),activo:new h(!0,[u.required]),perfil_id:new h(this.perfilId,[u.required])}),yield this.obtenerVehiculos()})}back(){this.nav.back()}cerrarModalVehiculo(){this.vehiculoModal=!1}abriModalVehiculo(){this.modalVehiculo=!0}CerrarVehiculo(){this.modalVehiculo=!1}vehiculoModalOpen(){this.vehiculoModal=!0}verVehiculo(g){return x(this,null,function*(){this.vehiculoData=yield this.CargaDatos.obtenerVehiculoPorId(g),this.vehiculoModalOpen()})}obtenerVehiculos(){return x(this,null,function*(){this.vehiculo=yield this.CargaDatos.obtenerVehiculos(),console.log("Veh\xEDculos Disponibles",this.vehiculo)})}registrarVehiculo(){return x(this,null,function*(){let g=this.vehiculoForm.value;if(this.vehiculoForm.invalid){this.alerts.DataIncorreta();return}let r=yield this.loadingController.create({message:"Registrando Veh\xEDculo..."});yield r.present();try{yield this.CargaDatos.registrarVehiculo(g),yield r.dismiss(),this.vehiculoForm.reset(),yield this.obtenerVehiculos(),console.log("Veh\xEDculo registrado con \xE9xito",g)}catch(l){yield r.dismiss(),console.error("Error registrando veh\xEDculo:",l)}})}};a.\u0275fac=function(r){return new(r||a)},a.\u0275cmp=w({type:a,selectors:[["app-vehiculos"]],decls:21,vars:11,consts:[[3,"translucent"],["color","success"],["slot","start","fill","clear",3,"click"],["name","arrow-back-outline",1,"back"],[3,"fullscreen"],["collapse","condense"],[1,"vehiculos"],[1,"conductor-title"],[2,"font-size","22px"],[1,"lista-container"],["button","true","class","info",3,"click",4,"ngFor","ngForOf"],[1,"add"],[3,"click"],[1,"custom-modal",3,"didDismiss","isOpen","initialBreakpoint","breakpoints"],["button","true",1,"info",3,"click"],[1,"name-conductor"],["size","large","slot","end","fill","clear","color","danger"],["name","person-remove-outline"],[1,"modal-container"],[1,"modal-header"],[1,"modal-handle"],[1,"info",3,"formGroup"],["placeholder","Placa","type","text","formControlName","placa"],["aria-label","Fruit","interface","popover","placeholder","Selecciona Marca","formControlName","marca"],["value","Heil"],["value","McNeilus"],["value","Mercedez-Benz"],["aria-label","A\xF1o","interface","popover","placeholder","Selecciona modelo","formControlName","modelo"],[3,"value",4,"ngFor","ngForOf"],[1,"btn"],["color","success","type","submit","expand","block",1,"buttonIni",3,"click"],[3,"value"],[1,"info"]],template:function(r,l){r&1&&(t(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-button",2),p("click",function(){return l.back()}),s(3,"ion-icon",3),n()()(),t(4,"ion-content",4)(5,"ion-header",5),s(6,"ion-toolbar"),n(),t(7,"div",6)(8,"div",7)(9,"ion-text",8),o(10,"Lista de Veh\xEDculos"),n()(),t(11,"div",9)(12,"ion-list"),b(13,tt,5,1,"ion-item",10),n()(),t(14,"div",11)(15,"ion-button",12),p("click",function(){return l.abriModalVehiculo()}),o(16," Agregar Veh\xEDculo "),n()()(),t(17,"ion-modal",13),p("didDismiss",function(){return l.CerrarVehiculo()}),b(18,et,22,2,"ng-template"),n(),t(19,"ion-modal",13),p("didDismiss",function(){return l.cerrarModalVehiculo()}),b(20,ot,20,3,"ng-template"),n()()),r&2&&(d("translucent",!0),c(4),d("fullscreen",!0),c(9),d("ngForOf",l.vehiculo),c(4),d("isOpen",l.modalVehiculo)("initialBreakpoint",.6)("breakpoints",v(9,Z)),c(2),d("isOpen",l.vehiculoModal)("initialBreakpoint",.6)("breakpoints",v(10,Z)))},dependencies:[L,j,T,I,y,S,D,z,A,Y,R,B,$,q,G,H,V,k,F,U,Q,J],styles:['@charset "UTF-8";ion-content[_ngcontent-%COMP%]{--padding-bottom: 60px;height:100vh;--background: #f8fafc}.content-container[_ngcontent-%COMP%]{padding-bottom:60px;min-height:calc(100vh - 60px)}ion-footer[_ngcontent-%COMP%]{position:fixed;bottom:0;width:100%;z-index:1000;background:#fff;box-shadow:0 -2px 15px #00000014;height:60px}ion-toolbar[_ngcontent-%COMP%]{--min-height: 60px;--padding-top: 0;--padding-bottom: 0;--background: white}ion-segment[_ngcontent-%COMP%]{--background: white;height:100%;padding:4px 8px}ion-segment-button[_ngcontent-%COMP%]{--padding-start: 6px;--padding-end: 6px;--padding-top: 6px;--padding-bottom: 6px;--border-radius: 12px;--background: transparent;--background-checked: #10b981;--color: #64748b;--color-checked: white;min-height:44px;margin:0 2px;transition:all .2s ease}ion-segment-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px!important;margin-bottom:2px;transition:all .2s ease}ion-segment-button[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:10px!important;font-weight:600;margin-top:1px;transition:all .2s ease}ion-segment-button[_ngcontent-%COMP%]::part(native){padding:4px 6px!important}ion-segment-button[_ngcontent-%COMP%]:hover{--background: #f1f5f9;transform:scale(.98)}.conductores[_ngcontent-%COMP%]{min-height:40vh;max-height:50vh;margin:0 auto 4%;width:80%;padding-top:8%;display:flex;flex-direction:column}.vehiculos[_ngcontent-%COMP%]{min-height:45vh;max-height:55vh;margin:0 auto 4%;width:80%;display:flex;flex-direction:column}.lista-container[_ngcontent-%COMP%]{flex:1;overflow-y:auto;max-height:60vh;margin-bottom:16px}.add[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:auto;padding-bottom:16px;position:sticky;bottom:0;background:linear-gradient(to bottom,transparent,#f8fafc 20px);padding-top:16px}.conductor-title[_ngcontent-%COMP%]{display:flex;justify-content:center;text-align:center;margin-bottom:20px}.conductor-title[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{font-size:24px;font-weight:700;background:linear-gradient(135deg,#10b981,#059669);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}ion-list[_ngcontent-%COMP%]{background:transparent;padding:0}ion-item[_ngcontent-%COMP%]{--border-radius: 16px;--padding-start: 20px;--padding-end: 16px;--min-height: 70px;margin-bottom:12px;border:1px solid #e2e8f0;background:#fff;box-shadow:0 2px 8px #0000000a;transition:all .3s ease}ion-item[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #0000001a;border-color:#10b981}.name-conductor[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#1e293b}.add[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px}.add[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--background: linear-gradient(135deg, #10b981, #059669);--background-hover: #059669;--background-activated: #047857;--border-radius: 16px;--padding-top: 16px;--padding-bottom: 16px;--box-shadow: 0 4px 16px rgba(16, 185, 129, .3);font-weight:600;font-size:16px}#mapId[_ngcontent-%COMP%]{height:45vh!important;min-height:350px;width:100%;border-radius:0 0 24px 24px}.config-rutas[_ngcontent-%COMP%]{margin:20px;border-radius:20px;background:#fff;box-shadow:0 4px 20px #00000014}.config-rutas[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669);border-radius:20px 20px 0 0;padding:20px}.config-rutas[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]{color:#fff;font-size:18px;font-weight:700}.logoUser[_ngcontent-%COMP%]{padding-top:15%;display:flex;width:100%;height:auto}.icon[_ngcontent-%COMP%]{display:flex;margin:auto;width:200px;height:200px;color:#10b981}.infoPerfil[_ngcontent-%COMP%]{padding-top:8%;margin-left:4%;margin-right:4%}.infoPerfil[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--background: transparent;--border-color: #e2e8f0;--padding-start: 0;--inner-padding-end: 0;margin-bottom:16px}.infoPerfil[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-weight:600;color:#475569}.infoPerfil[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{color:#1e293b;font-weight:500}.btnlogout-section[_ngcontent-%COMP%]{padding:20px;margin-top:40px}.btnlogout-section[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--border-radius: 12px;--padding-top: 16px;--padding-bottom: 16px;font-weight:600}.custom-modal[_ngcontent-%COMP%]{--border-radius: 24px 24px 0 0;--background: white}.modal-container[_ngcontent-%COMP%]{padding:24px;background:#fff}.modal-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:24px;position:relative}.modal-handle[_ngcontent-%COMP%]{width:48px;height:5px;background:#cbd5e1;border-radius:3px;margin:0 auto 16px}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#1e293b;font-size:22px;font-weight:700}.info[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--background: #f8fafc;--border-radius: 12px;--padding-start: 16px;margin-bottom:16px;border:1px solid #e2e8f0}.info[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%], .info[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]{--padding-start: 0;--padding-end: 0}.btn[_ngcontent-%COMP%]{margin-top:24px}.btn[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--background: linear-gradient(135deg, #10b981, #059669);--border-radius: 16px;--padding-top: 18px;--padding-bottom: 18px;font-weight:600;font-size:16px}.loading-spinner[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px;text-align:center}.loading-spinner[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{margin-bottom:10px;color:#10b981}.loading-spinner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;color:#64748b;margin:0;font-weight:500}.find[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.find[_ngcontent-%COMP%]   .find-icon[_ngcontent-%COMP%]{font-size:24px}ion-button[slot=end][_ngcontent-%COMP%]{--color: var(--ion-text-color)}body[_ngcontent-%COMP%], ion-card[_ngcontent-%COMP%], ion-item[_ngcontent-%COMP%], ion-toolbar[_ngcontent-%COMP%]{transition:background-color .3s ease,color .3s ease}ion-item[_ngcontent-%COMP%]{--border-radius: 8px;margin-bottom:8px}ion-card[_ngcontent-%COMP%]{margin:10px;box-shadow:0 2px 8px #0000001a}ion-card-header[_ngcontent-%COMP%]{padding-bottom:0}ion-card-title[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:1.1em;font-weight:600}ion-badge[_ngcontent-%COMP%]{font-size:.8em;font-weight:600}ion-textarea[_ngcontent-%COMP%]{background:#f8f9fa;border-radius:8px;--padding-start: 12px;--padding-end: 12px}ion-button[_ngcontent-%COMP%]{--border-radius: 8px}ion-button[disabled][_ngcontent-%COMP%]{opacity:.6}@media (max-width: 320px){ion-footer[_ngcontent-%COMP%]{height:55px}ion-toolbar[_ngcontent-%COMP%]{--min-height: 55px}ion-segment[_ngcontent-%COMP%]{padding:2px 4px}ion-segment-button[_ngcontent-%COMP%]{--padding-start: 4px;--padding-end: 4px;min-height:40px}ion-segment-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px!important}ion-segment-button[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:9px!important}ion-content[_ngcontent-%COMP%]{--padding-bottom: 55px}.content-container[_ngcontent-%COMP%]{padding-bottom:55px;min-height:calc(100vh - 55px)}.conductores[_ngcontent-%COMP%], .vehiculos[_ngcontent-%COMP%]{width:95%;padding-top:5%}.conductor-title[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{font-size:20px}}@media (min-width: 768px){ion-segment-button[_ngcontent-%COMP%]{--padding-start: 10px;--padding-end: 10px;min-height:48px}ion-segment-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px!important}ion-segment-button[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:11px!important}.conductores[_ngcontent-%COMP%], .vehiculos[_ngcontent-%COMP%]{width:70%;max-width:600px}#mapId[_ngcontent-%COMP%]{height:50vh!important}}@media (min-width: 1024px){.conductores[_ngcontent-%COMP%], .vehiculos[_ngcontent-%COMP%]{width:50%;max-width:500px}}@media (max-height: 500px) and (orientation: landscape){.conductores[_ngcontent-%COMP%]{min-height:60vh;padding-top:2%}.logoUser[_ngcontent-%COMP%]{padding-top:5%}.icon[_ngcontent-%COMP%]{width:80px;height:80px}.btnlogout-section[_ngcontent-%COMP%]{position:relative;bottom:auto;padding:16px}}@supports (padding: max(0px)){.btnlogout-section[_ngcontent-%COMP%]{padding-left:max(20px,env(safe-area-inset-left));padding-right:max(20px,env(safe-area-inset-right));padding-bottom:max(20px,env(safe-area-inset-bottom))}ion-footer[_ngcontent-%COMP%]{padding-bottom:env(safe-area-inset-bottom)}}@media (prefers-reduced-motion: reduce){ion-item[_ngcontent-%COMP%], ion-button[_ngcontent-%COMP%], ion-card[_ngcontent-%COMP%], ion-segment-button[_ngcontent-%COMP%]{transition:none;transform:none!important}}@media (prefers-contrast: high){ion-item[_ngcontent-%COMP%]{border-width:2px}.modal-handle[_ngcontent-%COMP%]{background:var(--ion-color-dark)}ion-segment-button[_ngcontent-%COMP%]{--border-width: 2px}}ion-item[_ngcontent-%COMP%], ion-button[_ngcontent-%COMP%], ion-card[_ngcontent-%COMP%]{transition:all .3s cubic-bezier(.4,0,.2,1)}.back[_ngcontent-%COMP%]{color:#000}']});let i=a;return i})();export{ht as VehiculosPage};
