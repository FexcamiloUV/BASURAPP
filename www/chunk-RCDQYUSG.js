import{b as R}from"./chunk-RTAYQSI5.js";import"./chunk-J7FRDWCT.js";import{$a as L,A as r,Aa as O,B as i,Ba as P,C as a,Da as I,H as h,S as c,Wa as k,Ya as y,Za as F,ab as S,fa as b,h as s,nb as E,pa as l,pb as N,q as u,qa as C,ra as x,sa as w,t as f,ta as m,va as v,wa as M,xa as _,z as g}from"./chunk-XJPBX2BL.js";import"./chunk-42P5IUVT.js";import"./chunk-XDJGQ7GY.js";import"./chunk-XMO6NZPM.js";import"./chunk-J7VKH6DZ.js";import"./chunk-6F5K652D.js";import"./chunk-SDMJJ4FY.js";import"./chunk-GYLY2RJE.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-4YRHGV2P.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import{g as p}from"./chunk-2R6CW7ES.js";var X=(()=>{let t=class t{constructor(){this.nav=s(I),this.loadingController=s(E),this.authService=s(R)}ngOnInit(){this.formularioLogin=new w({email:new m("",[l.required,l.email]),password:new m("",[l.required,l.minLength(6)])})}login(){return p(this,null,function*(){if(this.formularioLogin.invalid)return console.log("Formulario inv\xE1lido");let e=yield this.loadingController.create({message:"Iniciando sesi\xF3n..."});yield e.present();try{let n=this.formularioLogin.value,o=yield this.authService.login({email:n.email,password:n.password});o.success&&o.user?(console.log("Login exitoso, rol:",o.user.role),o.user.role==="admin"?this.nav.navigateRoot("/admin"):o.user.role==="conductor"?this.nav.navigateRoot("/home-conductor"):this.nav.navigateRoot("/login"),yield e.dismiss()):yield e.dismiss()}catch(n){console.error("Error during login:",n),yield e.dismiss()}})}register(){this.nav.navigateForward("/registro")}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=f({type:t,selectors:[["app-login"]],decls:14,vars:2,consts:[[3,"translucent"],["src","assets/imagenes/BasurApp.png"],[3,"formGroup"],["position","floating"],["type","email","formControlName","email"],["type","password","formControlName","password"],["expand","full",1,"colorVerde",3,"click"]],template:function(n,o){n&1&&(a(0,"ion-header",0),r(1,"ion-content"),a(2,"img",1),r(3,"form",2)(4,"ion-item")(5,"ion-label",3),c(6,"Correo Electr\xF3nico"),i(),a(7,"ion-input",4),i(),r(8,"ion-item")(9,"ion-label",3),c(10,"Contrase\xF1a"),i(),a(11,"ion-input",5),i()()(),r(12,"ion-button",6),h("click",function(){return o.login()}),c(13,"RECICLEMOS!"),i()),n&2&&(g("translucent",!0),u(3),g("formGroup",o.formularioLogin))},dependencies:[y,F,b,O,v,C,x,L,S,k,N,P,M,_],styles:['ion-toolbar.colorVerde[_ngcontent-%COMP%]{--background: #2dd36f;--color: white}ion-toolbar.colorVerde[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{font-weight:600;letter-spacing:1px}ion-content[_ngcontent-%COMP%]{--background: #eef1f5;position:relative;overflow:hidden}ion-content[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-20%;left:-10%;width:50%;height:150%;background:linear-gradient(120deg,transparent 30%,rgba(45,211,111,.05) 40%,rgba(45,211,111,.25) 50%,rgba(45,211,111,.05) 60%,transparent 70%);z-index:0;transform:skew(-15deg);filter:blur(20px);pointer-events:none}ion-content[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-30%;right:-20%;width:60%;height:150%;background:linear-gradient(-60deg,transparent 30%,rgba(45,211,111,.05) 40%,rgba(45,211,111,.25) 55%,rgba(45,211,111,.05) 100%,transparent 80%);z-index:0;transform:skew(-25deg);filter:blur(30px);pointer-events:none}ion-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], ion-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{position:relative;z-index:1}ion-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;width:300px;height:auto;margin:40px auto 30px;border-radius:100px;box-shadow:0 15px 30px #2dd36f33;object-fit:cover;background:#fff}ion-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{padding:0 25px}ion-content[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--background: rgba(255, 255, 255, .95);--border-radius: 14px;--padding-start: 15px;--highlight-color-focused: #2dd36f;margin-bottom:22px;box-shadow:0 8px 16px #0000000f;--border-width: 0;--inner-border-width: 0}ion-content[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{color:#555;font-weight:500;letter-spacing:.5px}ion-content[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{--padding-top: 12px;--padding-bottom: 12px;font-weight:600;color:#333}ion-button.colorVerde[_ngcontent-%COMP%]{--background: #2dd36f;--background-activated: darken(#2dd36f, 8%);--border-radius: 14px;--box-shadow: 0 8px 25px rgba(45, 211, 111, .5);margin:25px;height:54px;font-weight:700;font-size:1.15rem;letter-spacing:1px}']});let d=t;return d})();export{X as LoginPage};
