import{b as A}from"./chunk-RTAYQSI5.js";import{a as L,f as O}from"./chunk-SRXWUYCI.js";import"./chunk-J7FRDWCT.js";import{$a as M,A as t,Aa as y,B as o,Ba as E,C as l,Da as R,H as p,S as a,Wa as S,Ya as F,Za as N,ab as x,fa as h,h as c,kb as G,nb as T,ob as V,pa as r,pb as q,q as f,qa as b,ra as C,sa as v,t as w,ta as s,va as I,wa as k,xa as _,z as d}from"./chunk-XJPBX2BL.js";import"./chunk-42P5IUVT.js";import"./chunk-XDJGQ7GY.js";import"./chunk-XMO6NZPM.js";import"./chunk-J7VKH6DZ.js";import"./chunk-6F5K652D.js";import"./chunk-SDMJJ4FY.js";import"./chunk-GYLY2RJE.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-4YRHGV2P.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import{g}from"./chunk-2R6CW7ES.js";var Z=(()=>{let i=class i{constructor(){this.nav=c(R),this.loadingController=c(T),this.authService=c(A),L({arrowBackOutline:O})}ngOnInit(){this.formularioRegistro=new v({name:new s("",[r.required]),email:new s("",[r.required,r.email]),password:new s("",[r.required,r.minLength(6)]),role:new s("conductor",r.required)})}register(){return g(this,null,function*(){if(this.formularioRegistro.invalid)return console.log("Formulario inv\xE1lido");let n=yield this.loadingController.create({message:"Registrando conductor..."});yield n.present();try{let e=this.formularioRegistro.value;(yield this.authService.register({name:e.name,email:e.email,password:e.password,role:e.role})).success?(yield n.dismiss(),this.formularioRegistro.reset()):yield n.dismiss()}catch(e){console.error("Error during registration:",e),yield n.dismiss(),console.log("Error de conexi\xF3n")}})}back(){this.nav.back()}};i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=w({type:i,selectors:[["app-registro"]],decls:21,vars:2,consts:[[3,"translucent"],[1,"colorVerde"],["slot","start","fill","clear",3,"click"],["name","arrow-back-outline"],["src","assets/imagenes/BasurApp.png"],[3,"formGroup"],["position","floating"],["type","text","formControlName","name"],["type","email","formControlName","email"],["type","password","formControlName","password"],["expand","full",1,"colorAzul",3,"click"]],template:function(e,m){e&1&&(t(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-button",2),p("click",function(){return m.back()}),l(3,"ion-icon",3),o()()(),t(4,"ion-content"),l(5,"img",4),t(6,"form",5)(7,"ion-item")(8,"ion-label",6),a(9,"Nombre"),o(),l(10,"ion-input",7),o(),t(11,"ion-item")(12,"ion-label",6),a(13,"Correo Electr\xF3nico"),o(),l(14,"ion-input",8),o(),t(15,"ion-item")(16,"ion-label",6),a(17,"Contrase\xF1a"),o(),l(18,"ion-input",9),o()(),t(19,"ion-button",10),p("click",function(){return m.register()}),a(20,"Registrarse"),o()()),e&2&&(d("translucent",!0),f(6),d("formGroup",m.formularioRegistro))},dependencies:[F,N,G,h,y,I,b,C,E,k,_,x,M,S,q,V],styles:[".colorVerde[_ngcontent-%COMP%]{--background: rgb(48, 196, 48);--color: white}.colorAzul[_ngcontent-%COMP%]{--background: rgb(50, 50, 226);--color: white}"]});let u=i;return u})();export{Z as RegistroPage};
