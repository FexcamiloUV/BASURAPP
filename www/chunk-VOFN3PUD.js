import{a as z}from"./chunk-43C2ZPSG.js";import{b as V}from"./chunk-D5BV2UFU.js";import"./chunk-L32VLEYG.js";import{A as t,B as o,Ba as y,C as m,Ca as I,Ea as M,H as u,T as a,Xa as F,bb as P,db as O,eb as N,fb as E,ga as x,h as s,mb as k,ob as A,pb as T,q as g,qa as n,qb as R,ra as C,sa as v,t as f,ta as b,tb as D,ua as c,vb as G,wa as w,xa as S,xb as q,ya as _,z as d}from"./chunk-4QQZTKRH.js";import"./chunk-42P5IUVT.js";import"./chunk-XDJGQ7GY.js";import"./chunk-XMO6NZPM.js";import"./chunk-J7VKH6DZ.js";import"./chunk-6F5K652D.js";import"./chunk-SDMJJ4FY.js";import"./chunk-GYLY2RJE.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-4YRHGV2P.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import{g as h}from"./chunk-2R6CW7ES.js";var Y=(()=>{let i=class i{constructor(){this.Alerts=s(z),this.loadingController=s(D),this.AuthService=s(V),this.nav=s(M)}ngOnInit(){this.registerForm=new b({name:new c("",[n.required]),email:new c("",[n.required,n.email]),password:new c("",[n.required,n.minLength(6)]),role:new c("",[n.required])})}register(){return h(this,null,function*(){if(this.registerForm.invalid)return this.Alerts.DataVacia();let r=yield this.loadingController.create({message:"Creando cuenta..."});yield r.present();try{let e=this.registerForm.value;(yield this.AuthService.register({name:e.name,email:e.email,password:e.password,role:e.role})).success?(this.nav.navigateRoot("/login"),yield r.dismiss()):yield r.dismiss()}catch(e){console.error("Error during registration:",e),yield r.dismiss(),this.Alerts.DataIncorreta()}})}};i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=f({type:i,selectors:[["app-register"]],decls:26,vars:3,consts:[[3,"fullscreen"],["collapse","condense"],["size","large"],["src","assets/img/registro.png"],[1,"content"],[1,"seccion",3,"ngSubmit","formGroup"],[1,"info"],["placeholder","Nombre Completo","type","text","formControlName","name"],["placeholder","Correo","type","email","formControlName","email"],["placeholder","Contrase\xF1a","type","password","formControlName","password"],["placeholder","Selecciona tu rol","formControlName","role","interface","action-sheet"],["value","conductor"],["value","admin"],[1,"buttons"],["shape","round","expand","block",1,"btnInicio",3,"click","disabled"]],template:function(e,l){e&1&&(t(0,"ion-content",0)(1,"ion-header",1)(2,"ion-toolbar")(3,"ion-title",2),a(4,"login"),o()()(),m(5,"ion-img",3),t(6,"div",4)(7,"ion-text"),a(8,"Registro"),o(),t(9,"form",5),u("ngSubmit",function(){return l.register()}),t(10,"div",6)(11,"ion-item"),m(12,"ion-input",7),o(),t(13,"ion-item"),m(14,"ion-input",8),o(),t(15,"ion-item"),m(16,"ion-input",9),o(),t(17,"ion-item")(18,"ion-select",10)(19,"ion-select-option",11),a(20,"Conductor"),o(),t(21,"ion-select-option",12),a(22,"Administrador"),o()()()(),t(23,"div",13)(24,"ion-button",14),u("click",function(){return l.register()}),a(25," Registrar "),o()()()()()),e&2&&(d("fullscreen",!0),g(9),d("formGroup",l.registerForm),g(15),d("disabled",l.registerForm.invalid))},dependencies:[q,k,A,N,y,w,C,v,I,S,_,F,E,P,O,T,R,x,G],styles:['@charset "UTF-8";ion-content[_ngcontent-%COMP%]{--overflow: hidden;--background: url(/assets/img/loginP.png) no-repeat center center / cover}ion-input[_ngcontent-%COMP%]{color:#000;border-radius:10px}ion-button[_ngcontent-%COMP%]{--color:white;width:100%;height:5vh;font-size:20px;--background: rgb(83, 221, 83);display:flex;bottom:6%}ion-item[_ngcontent-%COMP%]{--background: transparent;--border-radius: 10px}ion-text[_ngcontent-%COMP%]{display:flex;margin:0 auto;font-size:25px;font-weight:700;color:#000}ion-img[_ngcontent-%COMP%]{display:flex;margin:0 auto;width:400px;height:400px}.content[_ngcontent-%COMP%]{position:relative;flex-direction:column;margin:0 auto;display:flex;background-color:#ddd6d6;height:45vh;width:85%;border-radius:20px;padding:20px}.seccion[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;gap:15px;padding:20px}.buttons[_ngcontent-%COMP%]{width:80%;display:flex;position:absolute;flex-direction:column;align-items:center;gap:10px;bottom:5%}.info[_ngcontent-%COMP%]{margin-top:10%;display:flex;flex-direction:column;gap:25px}@media (max-height: 600px){.content[_ngcontent-%COMP%]{height:auto;max-height:80vh}}']});let p=i;return p})();export{Y as RegistroPage};
